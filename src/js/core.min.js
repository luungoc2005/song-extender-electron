function sendToMainWindow(e,n){l||(l=o.getFocusedWindow()),l&&l.webContents.send(e,n)}function onHandledError(e){sendToMainWindow("handled-error",e)}const e=require("electron").ipcMain,n=require("electron").dialog,o=require("electron").BrowserWindow,i=require("child_process"),r=require("path");require("fs"),require("url");let s,l;e.on("open-file-dialog",function(e){n.showOpenDialog({properties:["openFile"],filters:[{name:"Audio files",extensions:["mp3","ogg","wav"]}]},function(n){if(n){var o=r.normalize(n[0]),l=encodeURIComponent(r.basename(o)),d=r.dirname(o);if(e.sender.send("selected-file",r.join(d,l)),!s){var t=r.join(__dirname,"worker.min.js");console.log(`Worker module path: ${t}`),s=i.fork(t,[],{silent:!0}),s.on("message",function(e){sendToMainWindow(e.event,e.path)}),s.on("close",function(e,n){console.log(`child process terminated with code ${e} due to receipt of signal ${n}`)}),s.on("error",function(e){console.log(`child process encountered error ${e}`)})}console.log(`Sending message - ${s.send({fileName:o})}`)}})});